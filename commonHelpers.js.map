{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function creatMarkup(arr) {\n    return arr\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => `<li class=\"card\">\n        <a href=\"${largeImageURL}\"><img class=\"img-card\" src=\"${webformatURL}\" alt=\"${tags}\" title=\"${tags}\" ></a>\n        <div class=\"description\"><p>Likes: ${likes}</p> <p>Views: ${views}</p>\n        <p>Comments: ${comments}</p>\n        <p>Downloads: ${downloads}</p></li>\n   </div>`\n      )\n      .join('');\n  }","const key = '42801696-74e6805803c5f99662f25fde0';\nexport function searchServiceImg(nameSearch) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const params = new URLSearchParams({\n      key,\n      q: nameSearch,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    });\n    return fetch(`${BASE_URL}?${params}`).then(response => {\n      if (!response.ok) {\n        throw new Error('404 not found!');\n      }\n      return response.json();\n    });\n  }","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { creatMarkup } from './js/render-functions';\nimport { searchServiceImg } from './js/pixabay-api';\n\nconst refs = {\n  formEl: document.querySelector('.form-search'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.formEl.addEventListener('submit', onSearchImg);\nfunction onSearchImg(evt) {\n  evt.preventDefault();\n  const nameSearch = evt.target[0].value;\n  refs.loader.classList.remove('loader-none');\n  refs.gallery.innerHTML = '';\n  searchServiceImg(nameSearch)\n    .then(data => {\n      if (creatMarkup(data.hits) == []) {\n        refs.loader.classList.add('loader-none');\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topCenter',\n        });\n\n      } else {\n        refs.loader.classList.add('loader-none');\n        refs.gallery.innerHTML = creatMarkup(data.hits);\n        lightbox.refresh();\n      }\n    })\n    .catch(er => {\n      refs.loader.classList.add('loader-none');\n    });\n}\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  animationSpeed: 1000,\n  captionDelay: 250,\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionText: 'description',\n  history: false,\n  swipeClose: true,\n  close: true,\n});\n"],"names":["creatMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","key","searchServiceImg","nameSearch","BASE_URL","params","response","refs","onSearchImg","evt","data","iziToast","lightbox","er","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAYC,EAAK,CAC7B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IAAc;AAAA,mBACKL,CAAa,gCAAgCD,CAAY,UAAUE,CAAI,YAAYA,CAAI;AAAA,6CAC7DC,CAAK,kBAAkBC,CAAK;AAAA,uBAClDC,CAAQ;AAAA,wBACPC,CAAS;AAAA,UAE1B,EACA,KAAK,EAAE,CACd,CCnBA,MAAMC,EAAM,qCACL,SAASC,EAAiBC,EAAY,CACzC,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAAJ,EACA,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CAAK,EACD,OAAO,MAAM,GAAGC,CAAQ,IAAIC,CAAM,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,gBAAgB,EAElC,OAAOA,EAAS,MACtB,CAAK,CACL,CCTA,MAAMC,EAAO,CACX,OAAQ,SAAS,cAAc,cAAc,EAC7C,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,OAAO,iBAAiB,SAAUC,CAAW,EAClD,SAASA,EAAYC,EAAK,CACxBA,EAAI,eAAc,EAClB,MAAMN,EAAaM,EAAI,OAAO,CAAC,EAAE,MACjCF,EAAK,OAAO,UAAU,OAAO,aAAa,EAC1CA,EAAK,QAAQ,UAAY,GACzBL,EAAiBC,CAAU,EACxB,KAAKO,GAAQ,CACRlB,EAAYkB,EAAK,IAAI,GAAK,CAAA,GAC5BH,EAAK,OAAO,UAAU,IAAI,aAAa,EACvCI,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,WACpB,CAAS,IAGDJ,EAAK,OAAO,UAAU,IAAI,aAAa,EACvCA,EAAK,QAAQ,UAAYf,EAAYkB,EAAK,IAAI,EAC9CE,EAAS,QAAO,EAExB,CAAK,EACA,MAAMC,GAAM,CACXN,EAAK,OAAO,UAAU,IAAI,aAAa,CAC7C,CAAK,CACL,CAEA,IAAIK,EAAW,IAAIE,EAAe,aAAc,CAC9C,eAAgB,IAChB,aAAc,IACd,aAAc,MACd,gBAAiB,SACjB,YAAa,cACb,QAAS,GACT,WAAY,GACZ,MAAO,EACT,CAAC"}